專案名稱：捲簾估價應用程式 (Roller Blind Quotation App)
交接日期：2025年8月25日

==================================================

## 1. 專案目標 (Project Goal)

本專案的核心目標是開發一個基於 Web 技術的「捲簾估價應用程式」。此應用程式旨在解決現有估價流程過於複雜、依賴人工計算、耗時且容易出錯的問題。系統將建立一套標準化、自動化的計價流程，以提升銷售人員的工作效率與報價的準確性。

## 2. 當前進度 (Current Status)

專案已完成「第一階段：視覺探索與需求確認」及「第二階段：核心架構與數據模型設計」的所有規劃工作。

目前專案正處於**「第三階段：垂直切片開發與迭代」**的最開端。

**已完成的工作包括：**
* 所有面向客戶的文件（報價單、詳細清單）與內部操作介面（快速估價頁面）的視覺設計與 HTML 靜態版型。
* 完整的應用程式操作流程與所有核心商業邏輯的定義。
* 包含所有必要欄位的數據結構藍圖 (`Quote_Data_Structure_Final.js`)。
* 從供應商 PDF 轉譯的價格矩陣數據 (`PriceMatrix_v1.0.json`)。
* 基礎開發環境的搭建 (`index.html` 及所有空的 `.js` 模組檔案)。
* 已解決所有本地預覽的環境配置與跨域問題。

## 3. 核心開發理念與流程 (Core Development Philosophy & Flow)

* **開發方法論**: 專案遵循「由外而內，混合驅動」的理念，先定義視覺與需求，再進行架構驅動的開發。
* **兩階段估價流程**:
    1.  **快速估價 (Quick Quote)**: 供銷售人員現場使用的極簡介面，僅輸入寬、高、類型，快速獲取概算總價。
    2.  **詳細規格設定 (MOL - Measurements & Order List)**: 內部專用的詳細設定頁面，用於配置馬達、配件等所有細節，產出最終精確報價。
* **系統架構**: 採用「事件驅動」的高度解耦架構。系統由十大核心模組構成（詳見專案開發計畫書），模組間透過一個中央事件聚合器 (`EventAggregator`) 進行非同步通訊。

## 4. **首要執行任務 (Immediate Next Task)**

**任務目標：為「快速估價」頁面的虛擬鍵盤編寫互動邏輯。**

**具體步驟：**
1.  **目標模組**: `InputHandler.js` 和 `StateManager.js`。
2.  **實現 `InputHandler.js`**:
    * 為虛擬鍵盤上的所有按鈕（數字 0-9, W, H, DEL, ENT）綁定點擊事件。
    * 當按鈕被點擊時，`InputHandler` 需根據按鍵類型，發布對應的語義化事件（例如 `virtualKeyPressed`, `userEnteredDimension` 等）。
3.  **實現 `StateManager.js`**:
    * 開始編寫監聽上述事件的邏輯。
    * 例如，當監聽到 `userEnteredDimension` 事件時，需更新 `state.quoteData.rollerBlindItems` 陣列，新增一筆項目或更新現有項目的寬/高。
    * 每次狀態更新後，必須發布 `stateChanged` 事件，以通知 `UIManager` 更新畫面。

所有相關的檔案與更詳細的邏輯，都已整理在專案資料夾中。
